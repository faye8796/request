<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„¸ì¢…í•™ë‹¹ ë¬¸í™”ì¸í„´ ì§€ì› ì‹œìŠ¤í…œ - ê´€ë¦¬ì v5.2.1</title>
    
    <!-- CSS Files - v5.2.1 ìˆ˜ë£Œí‰ê°€ ê´€ë¦¬ ì¶”ê°€ -->
    <link rel="stylesheet" href="css/main.css?v=5.2.1">
    <link rel="stylesheet" href="css/login.css?v=5.2.1">
    
    <!-- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ì „ìš© ìŠ¤íƒ€ì¼ -->
    <style>
        .dashboard-container {
            min-height: 100vh;
            background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
            padding: 2rem;
        }

        .dashboard-header {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .welcome-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        .welcome-title {
            font-size: 2.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 0.5rem;
        }

        .welcome-subtitle {
            font-size: 1.2rem;
            color: #718096;
            margin-bottom: 1rem;
        }

        .admin-info {
            background: #2d3748;
            color: white;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            text-align: center;
        }

        .admin-info h3 {
            margin: 0 0 0.5rem 0;
            color: white;
        }

        .admin-info p {
            margin: 0;
            color: #cbd5e0;
        }

        /* ğŸ†• v5.2.1 ëª¨ë“ˆ ë¡œë”© ìƒíƒœ í‘œì‹œ */
        .module-status {
            background: #1a202c;
            color: white;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            font-family: monospace;
            font-size: 0.875rem;
        }

        .module-status h4 {
            margin: 0 0 0.5rem 0;
            color: white;
            font-size: 1rem;
            font-family: inherit;
        }

        .module-status .module-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.25rem 0;
            border-bottom: 1px solid #4a5568;
        }

        .module-status .module-item:last-child {
            border-bottom: none;
        }

        .module-status .status-icon {
            font-weight: bold;
        }

        .status-loading { color: #f6ad55; }
        .status-success { color: #68d391; }
        .status-error { color: #fc8181; }

        /* ğŸ”‡ ë¡œê·¸ ì œì–´ ì„¹ì…˜ */
        .log-control-section {
            background: #1a202c;
            color: white;
            border-radius: 0.5rem;
            padding: 1rem;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .log-control-info {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .log-mode-badge {
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.75rem;
            font-weight: bold;
        }

        .log-mode-badge.production {
            background: #22543d;
            color: #c6f6d5;
        }

        .log-mode-badge.development {
            background: #d69e2e;
            color: #faf089;
        }

        .log-toggle-btn {
            background: #4a5568;
            color: white;
            border: none;
            border-radius: 0.25rem;
            padding: 0.5rem 1rem;
            cursor: pointer;
            font-size: 0.875rem;
            transition: background 0.3s ease;
        }

        .log-toggle-btn:hover {
            background: #2d3748;
        }

        /* ê¸°ëŠ¥ í™œì„±í™” ê´€ë¦¬ ì„¹ì…˜ */
        .feature-settings-section {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }

        .feature-settings-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .feature-list {
            display: grid;
            gap: 1rem;
            max-width: 800px;
            margin: 0 auto;
        }

        .feature-item {
            background: #f7fafc;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: all 0.3s ease;
        }

        .feature-item:hover {
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transform: translateY(-2px);
        }

        .feature-item.active {
            border-color: #48bb78;
            background: #f0fff4;
        }

        .feature-item.inactive {
            border-color: #fc8181;
            background: #fff5f5;
        }

        .feature-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            flex: 1;
        }

        .feature-icon {
            width: 3rem;
            height: 3rem;
            background: linear-gradient(135deg, #2d3748, #4a5568);
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .feature-icon.active {
            background: linear-gradient(135deg, #48bb78, #38a169);
        }

        .feature-icon.inactive {
            background: linear-gradient(135deg, #fc8181, #f56565);
        }

        .feature-icon i {
            width: 1.5rem;
            height: 1.5rem;
        }

        .feature-details h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #2d3748;
            margin: 0 0 0.25rem 0;
        }

        .feature-details p {
            font-size: 0.875rem;
            color: #718096;
            margin: 0;
        }

        .feature-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .feature-status {
            font-size: 0.875rem;
            font-weight: 600;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            min-width: 4rem;
            text-align: center;
        }

        .feature-status.active {
            background: #c6f6d5;
            color: #22543d;
        }

        .feature-status.inactive {
            background: #fed7d7;
            color: #c53030;
        }

        /* í† ê¸€ ìŠ¤ìœ„ì¹˜ */
        .toggle-switch {
            position: relative;
            width: 3.5rem;
            height: 2rem;
            background: #cbd5e0;
            border-radius: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .toggle-switch.active {
            background: #48bb78;
        }

        .toggle-switch::before {
            content: '';
            position: absolute;
            top: 0.125rem;
            left: 0.125rem;
            width: 1.75rem;
            height: 1.75rem;
            background: white;
            border-radius: 50%;
            transition: transform 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .toggle-switch.active::before {
            transform: translateX(1.5rem);
        }

        /* ê´€ë¦¬ ë©”ë‰´ ê·¸ë¦¬ë“œ */
        .menu-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .menu-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            cursor: pointer;
            border: 3px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .menu-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #2d3748, #4a5568);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .menu-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .menu-card:hover::before {
            transform: scaleX(1);
        }

        .menu-icon {
            width: 4rem;
            height: 4rem;
            margin: 0 auto 1.5rem;
            background: linear-gradient(135deg, #2d3748, #4a5568);
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .menu-icon i {
            width: 2rem;
            height: 2rem;
        }

        .menu-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 1rem;
            text-align: center;
        }

        .menu-description {
            color: #718096;
            line-height: 1.6;
            margin-bottom: 2rem;
            text-align: center;
        }

        .menu-button {
            width: 100%;
            background: linear-gradient(135deg, #2d3748, #4a5568);
            color: white;
            border: none;
            border-radius: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .menu-button:hover {
            background: linear-gradient(135deg, #1a202c, #2d3748);
            transform: translateY(-2px);
        }

        .logout-section {
            text-align: center;
            margin-top: 2rem;
        }

        .logout-btn {
            background: #fed7d7;
            color: #c53030;
            border: 2px solid #fc8181;
            border-radius: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #fc8181;
            color: white;
        }

        /* ë¡œë”© ìƒíƒœ */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }

        .loading .toggle-switch {
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* ì´ˆê¸°í™” ìƒíƒœ í‘œì‹œ */
        .init-status {
            position: fixed;
            top: 1rem;
            right: 1rem;
            background: #1a202c;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem;
            z-index: 1000;
            max-width: 300px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .init-status.success {
            background: #22543d;
        }

        .init-status.error {
            background: #c53030;
        }

        .init-status.warning {
            background: #d69e2e;
        }

        /* ì‹œìŠ¤í…œ ìƒíƒœ ì•Œë¦¼ */
        .alert {
            padding: 12px 16px;
            border-radius: 8px;
            border: 1px solid;
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin: 16px 0;
        }

        .alert-success {
            background-color: #d4edda;
            border-color: #c3e6cb;
            color: #155724;
        }

        .alert-info {
            background-color: #d1ecf1;
            border-color: #bee5eb;
            color: #0c5460;
        }

        .alert-warning {
            background-color: #fff3cd;
            border-color: #ffeaa7;
            color: #856404;
        }

        /* ìƒˆë¡œìš´ ê¸°ëŠ¥ í•˜ì´ë¼ì´íŠ¸ */
        .new-feature-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #f093fb;
            background: linear-gradient(90deg, #f093fb 0%, #f5576c 100%);
            color: white;
            font-size: 0.7rem;
            font-weight: bold;
            padding: 0.25rem 0.5rem;
            border-radius: 1rem;
            box-shadow: 0 2px 8px rgba(240, 147, 251, 0.3);
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        /* ëª¨ë°”ì¼ ë°˜ì‘í˜• */
        @media (max-width: 768px) {
            .dashboard-container {
                padding: 1rem;
            }

            .dashboard-header {
                padding: 1.5rem;
            }

            .welcome-title {
                font-size: 2rem;
            }

            .menu-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .menu-card {
                padding: 1.5rem;
            }

            .feature-list {
                gap: 0.75rem;
            }

            .feature-item {
                padding: 1rem;
                flex-direction: column;
                text-align: center;
            }

            .feature-controls {
                margin-top: 1rem;
            }

            .module-status {
                font-size: 0.75rem;
            }

            .log-control-section {
                flex-direction: column;
                gap: 1rem;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- ê´€ë¦¬ì ë¡œê·¸ì¸ í˜ì´ì§€ -->
        <div id="loginPage" class="page active">
            <div class="login-container">
                <div class="login-card">
                    <div class="login-header">
                        <h1>ì„¸ì¢…í•™ë‹¹ ë¬¸í™”ì¸í„´ ì§€ì› ì‹œìŠ¤í…œ v5.2.1</h1>
                        <p>Cultural Intern Support System - Administrator (ìˆ˜ë£Œí‰ê°€ ê´€ë¦¬ ì¶”ê°€)</p>
                    </div>

                    <div id="adminLogin" class="login-form active">
                        <div class="form-group">
                            <label>ê´€ë¦¬ì ì½”ë“œ</label>
                            <input type="password" id="adminCode" placeholder="ê´€ë¦¬ì ì½”ë“œë¥¼ ì…ë ¥í•˜ì„¸ìš”">
                        </div>
                        <button id="adminLoginBtn" class="login-btn admin">
                            <i data-lucide="log-in"></i>
                            ê´€ë¦¬ì ë¡œê·¸ì¸
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ -->
        <div id="adminPage" class="page">
            <div class="dashboard-container">
                <!-- í—¤ë” ì„¹ì…˜ -->
                <div class="dashboard-header">
                    <div class="welcome-section">
                        <h1 class="welcome-title">ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ v5.2.1</h1>
                        <p class="welcome-subtitle">Cultural Intern Support System - Administrator (ìˆ˜ë£Œí‰ê°€ ê´€ë¦¬ ì¶”ê°€)</p>
                    </div>
                    
                    <div class="admin-info">
                        <h3>ê´€ë¦¬ìë‹˜, í™˜ì˜í•©ë‹ˆë‹¤!</h3>
                        <p>ì„¸ì¢…í•™ë‹¹ ë¬¸í™”ì¸í„´ ì§€ì› ì‹œìŠ¤í…œì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                    </div>

                    <!-- ğŸ”‡ ë¡œê·¸ ì œì–´ ì„¹ì…˜ -->
                    <div class="log-control-section">
                        <div class="log-control-info">
                            <span>ğŸ”‡ ë¡œê·¸ ì¶œë ¥ ëª¨ë“œ:</span>
                            <span class="log-mode-badge production" id="logModeBadge">í”„ë¡œë•ì…˜ (ìµœì†Œ)</span>
                        </div>
                        <button class="log-toggle-btn" onclick="LogController.toggleMode()">
                            <span id="logToggleText">ê°œë°œ ëª¨ë“œ í™œì„±í™”</span>
                        </button>
                    </div>

                    <!-- ğŸ†• v5.2.1 ëª¨ë“ˆ ë¡œë”© ìƒíƒœ í‘œì‹œ -->
                    <div class="module-status" id="moduleStatus">
                        <h4>ğŸ“¦ ëª¨ë“ˆ ë¡œë”© ìƒíƒœ (v5.2.1 ìˆ˜ë£Œí‰ê°€ ê´€ë¦¬ í¬í•¨)</h4>
                        <div class="module-item">
                            <span>SupabaseCore (5.6KB)</span>
                            <span class="status-icon status-loading" id="status-core">â³</span>
                        </div>
                        <div class="module-item">
                            <span>SupabaseStudent (32.9KB)</span>
                            <span class="status-icon status-loading" id="status-student">â³</span>
                        </div>
                        <div class="module-item">
                            <span>SupabaseAdmin (41.5KB)</span>
                            <span class="status-icon status-loading" id="status-admin">â³</span>
                        </div>
                        <div class="module-item">
                            <span>í†µí•© ë§¤ë‹ˆì € (19.2KB)</span>
                            <span class="status-icon status-loading" id="status-unified">â³</span>
                        </div>
                        <div class="module-item">
                            <span>ê´€ë¦¬ì ì‹œìŠ¤í…œ</span>
                            <span class="status-icon status-loading" id="status-admin-system">â³</span>
                        </div>
                    </div>
                </div>

                <!-- ì‹œìŠ¤í…œ ìƒíƒœ ì•Œë¦¼ -->
                <div id="systemStatus"></div>

                <!-- ê¸°ëŠ¥ í™œì„±í™” ê´€ë¦¬ ì„¹ì…˜ -->
                <div class="feature-settings-section">
                    <h2 class="feature-settings-title">
                        <i data-lucide="settings"></i>
                        ê¸°ëŠ¥ í™œì„±í™” ê´€ë¦¬
                        <span class="new-feature-badge">NEW</span>
                    </h2>
                    <div class="feature-list" id="featureList">
                        <!-- ğŸ”„ AdminFeatureSettings ëª¨ë“ˆì—ì„œ ìë™ ë¡œë”© -->
                        <div class="feature-item">
                            <div class="feature-info">
                                <div class="feature-icon">
                                    <i data-lucide="settings"></i>
                                </div>
                                <div class="feature-details">
                                    <h4>ê¸°ëŠ¥ ì„¤ì • ë¡œë”© ì¤‘...</h4>
                                    <p>v5.2.1 AdminFeatureSettings ëª¨ë“ˆ ì´ˆê¸°í™” ì¤‘ì…ë‹ˆë‹¤.</p>
                                </div>
                            </div>
                            <div class="feature-controls">
                                <span class="feature-status">ë¡œë”© ì¤‘</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ê´€ë¦¬ ë©”ë‰´ ê·¸ë¦¬ë“œ -->
                <div class="menu-grid">
                    <!-- íŒŒê²¬ í•™ë‹¹ ì •ë³´ ê´€ë¦¬ -->
                    <div class="menu-card" onclick="navigateToInstituteManagement()">
                        <div class="menu-icon">
                            <i data-lucide="building"></i>
                        </div>
                        <h2 class="menu-title">íŒŒê²¬ í•™ë‹¹ ì •ë³´ ê´€ë¦¬</h2>
                        <p class="menu-description">
                            ì„¸ì¢…í•™ë‹¹ ì •ë³´ë¥¼ ë“±ë¡í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.<br>
                            í•™ìƒ ë°°ì • ë° í˜„ì§€ ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <button class="menu-button">
                            <i data-lucide="arrow-right"></i>
                            ê´€ë¦¬í•˜ê¸°
                        </button>
                    </div>

                    <!-- í•­ê³µê¶Œ êµ¬ë§¤ ì‹ ì²­ ê´€ë¦¬ -->
                    <div class="menu-card" onclick="navigateToFlightManagement()">
                        <div class="menu-icon">
                            <i data-lucide="plane"></i>
                        </div>
                        <h2 class="menu-title">í•­ê³µê¶Œ êµ¬ë§¤ ì‹ ì²­ ê´€ë¦¬</h2>
                        <p class="menu-description">
                            í•™ìƒë“¤ì˜ í•­ê³µê¶Œ êµ¬ë§¤ ì‹ ì²­ì„ ê²€í† í•˜ê³ <br>
                            ìŠ¹ì¸ ì²˜ë¦¬ë¥¼ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <button class="menu-button">
                            <i data-lucide="arrow-right"></i>
                            ê´€ë¦¬í•˜ê¸°
                        </button>
                    </div>

                    <!-- êµêµ¬ êµ¬ë§¤ ì‹ ì²­ ê´€ë¦¬ -->
                    <div class="menu-card" onclick="navigateToEquipmentManagement()">
                        <div class="menu-icon">
                            <i data-lucide="package"></i>
                        </div>
                        <h2 class="menu-title">êµêµ¬ êµ¬ë§¤ ì‹ ì²­ ê´€ë¦¬</h2>
                        <p class="menu-description">
                            í•™ìƒë“¤ì˜ êµêµ¬ ì‹ ì²­ì„ ê²€í† í•˜ê³ <br>
                            ì˜ˆì‚° ìŠ¹ì¸ ë° êµ¬ë§¤ ì²˜ë¦¬ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <button class="menu-button">
                            <i data-lucide="arrow-right"></i>
                            ê´€ë¦¬í•˜ê¸°
                        </button>
                    </div>

                    <!-- ğŸ†• íŠ¹ë³„ ì˜ˆì‚° ì§€ì› ê´€ë¦¬ -->
                    <div class="menu-card" onclick="navigateToBudgetManagement()">
                        <div class="menu-icon">
                            <i data-lucide="wallet"></i>
                        </div>
                        <h2 class="menu-title">íŠ¹ë³„ ì˜ˆì‚° ì§€ì› ê´€ë¦¬</h2>
                        <p class="menu-description">
                            í•™ìƒë“¤ì˜ íŠ¹ë³„ ì˜ˆì‚° ì§€ì› ì‹ ì²­ì„ ê²€í† í•˜ê³ <br>
                            ìŠ¹ì¸ ë° ë°˜ë ¤ ì²˜ë¦¬ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <button class="menu-button">
                            <i data-lucide="arrow-right"></i>
                            ê´€ë¦¬í•˜ê¸°
                        </button>
                    </div>
                    
                    <!-- ğŸ†• ë¹„ì ë°œê¸‰ ê´€ë¦¬ (êµ­ê°€ë³„ ì•ˆì „ì •ë³´ ê´€ë¦¬ ë‹¤ìŒì— ì¶”ê°€) -->
                    <div class="menu-card" onclick="navigateToVisaManagement()">
                        <div class="menu-icon">
                            <i data-lucide="file-badge"></i>
                        </div>
                        <h2 class="menu-title">ë¹„ì ë°œê¸‰ ê´€ë¦¬</h2>
                        <p class="menu-description">
                            í•™ìƒë“¤ì˜ ë¹„ì ë°œê¸‰ í˜„í™©ì„ ëª¨ë‹ˆí„°ë§í•˜ê³ <br>
                            ê´€ë¦¬ì ì½”ë©˜íŠ¸ì™€ ì„œë¥˜ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <button class="menu-button">
                            <i data-lucide="arrow-right"></i>
                            ê´€ë¦¬í•˜ê¸°
                        </button>
                    </div>
                    
                    <!-- ğŸ’° ì‹¤ë¹„ ì§€ì› ê´€ë¦¬ -->
                    <div class="menu-card" onclick="navigateToReimbursementManagement()">
                        <div class="menu-icon">
                            <i data-lucide="receipt"></i>
                        </div>
                        <h2 class="menu-title">ì‹¤ë¹„ ì§€ì› ê´€ë¦¬</h2>
                        <p class="menu-description">
                            ë¬¸í™”ì¸í„´ í•™ìƒ ì‹¤ë¹„ ì§€ì› ê´€ë¦¬.<br>
                            ì°¨ìˆ˜ë³„ ê¸ˆì•¡ ì„¤ì • ë° ì§€ê¸‰ ì²˜ë¦¬.
                        </p>
                        <button class="menu-button">
                            <i data-lucide="arrow-right"></i>
                            ê´€ë¦¬í•˜ê¸°
                        </button>
                    </div>

                    <!-- ğŸ†• ìˆ˜ë£Œí‰ê°€ ê´€ë¦¬ -->
                    <div class="menu-card" onclick="navigateToExamManagement()">
                        <div class="menu-icon">
                            <i data-lucide="clipboard-check"></i>
                        </div>
                        <h2 class="menu-title">ìˆ˜ë£Œí‰ê°€ ê´€ë¦¬</h2>
                        <p class="menu-description">
                            ë¬¸ì œ ì¶œì œ, ì‹œí—˜ ê²°ê³¼ ì¡°íšŒ ë°<br>
                            í‰ê°€ ì„¤ì •ì„ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <button class="menu-button">
                            <i data-lucide="arrow-right"></i>
                            ê´€ë¦¬í•˜ê¸°
                        </button>
                    </div>

                    <!-- ğŸ†• êµ­ê°€ë³„ ì•ˆì „ì •ë³´ ê´€ë¦¬ -->
                    <div class="menu-card" onclick="navigateToCountrySafetyManagement()">
                        <div class="menu-icon">
                            <i data-lucide="globe"></i>
                        </div>
                        <h2 class="menu-title">êµ­ê°€ë³„ ì•ˆì „ì •ë³´ ê´€ë¦¬</h2>
                        <p class="menu-description">
                            íŒŒê²¬êµ­ê°€ë³„ ì•ˆì „ ì •ë³´ ë° ëŒ€ì‚¬ê´€ ì—°ë½ì²˜ë¥¼<br>
                            ë“±ë¡í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                        <button class="menu-button">
                            <i data-lucide="arrow-right"></i>
                            ê´€ë¦¬í•˜ê¸°
                        </button>
                    </div>
                </div>

                <!-- ë¡œê·¸ì•„ì›ƒ ì„¹ì…˜ -->
                <div class="logout-section">
                    <button class="logout-btn" onclick="handleLogout()">
                        <i data-lucide="log-out"></i>
                        ë¡œê·¸ì•„ì›ƒ
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ì´ˆê¸°í™” ìƒíƒœ í‘œì‹œ -->
    <div id="initStatus" class="init-status" style="display: none;">
        ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì¤‘...
    </div>

    <!-- ğŸš€ JavaScript Files - v5.2.1 ì‹œìŠ¤í…œ -->
    
    <!-- ğŸ”§ 1ë‹¨ê³„: í•µì‹¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>

    <!-- ğŸ”§ 2ë‹¨ê³„: í•µì‹¬ ì„¤ì • (í•„ìˆ˜) -->
    <script src="js/config.js?v=5.2.1"></script>
    <script src="js/utils.js?v=5.2.1"></script>
    <script src="js/auth.js?v=5.2.1"></script>

    <!-- ğŸ”§ 3ë‹¨ê³„: Supabase ëª¨ë“ˆë“¤ (ìˆœì„œ ì¤‘ìš”!) -->
    <script src="js/supabase/supabase-core.js?v=5.2.1"></script>
    <script src="js/supabase/supabase-student.js?v=5.2.1"></script>
    <script src="js/supabase/supabase-admin.js?v=5.2.1"></script>
    <script src="js/supabase-client.js?v=5.2.1"></script>
    
    <!-- ğŸ”§ 4ë‹¨ê³„: ê´€ë¦¬ì ëª¨ë“ˆë“¤ (í•„ìš”í•œ ê²½ìš°ë§Œ) -->
    <script src="js/admin/admin-core.js?v=5.2.1"></script>
    <script src="js/admin/admin-utils.js?v=5.2.1"></script>
    <script src="js/admin/admin-modals.js?v=5.2.1"></script>
    <script src="js/admin/admin-budget.js?v=5.2.1"></script>
    <script src="js/admin/admin-lesson-plans.js?v=5.2.1"></script>
    <script src="js/admin/admin-applications.js?v=5.2.1"></script>
    <!-- ğŸ†• AdminFeatureSettings ëª¨ë“ˆ (ìë™ ì´ˆê¸°í™”) -->
    <script src="js/admin/admin-features.js?v=5.2.1"></script>
    
    <!-- ğŸ”§ 5ë‹¨ê³„: ê´€ë¦¬ì í˜ì´ì§€ í•µì‹¬ ì‹œìŠ¤í…œ - v5.2.1 -->
    <script>
        // ğŸ”‡ ë¡œê·¸ ì œì–´ ì‹œìŠ¤í…œ (v5.2.1)
        const LogController = {
            isProductionMode: true, // ê¸°ë³¸ê°’: í”„ë¡œë•ì…˜ ëª¨ë“œ (ë¡œê·¸ ìµœì†Œí™”)
            
            // ë¡œê·¸ ì¶œë ¥ í•¨ìˆ˜ (ëª¨ë“œì— ë”°ë¼ ì œì–´)
            log(...args) {
                if (!this.isProductionMode) {
                    console.log(...args);
                }
            },
            
            info(...args) {
                if (!this.isProductionMode) {
                    console.info(...args);
                }
            },
            
            warn(...args) {
                // ê²½ê³ ëŠ” í•­ìƒ ì¶œë ¥
                console.warn(...args);
            },
            
            error(...args) {
                // ì—ëŸ¬ëŠ” í•­ìƒ ì¶œë ¥
                console.error(...args);
            },
            
            // ì¤‘ìš”í•œ ì‹œìŠ¤í…œ ë©”ì‹œì§€ (í•­ìƒ ì¶œë ¥)
            system(...args) {
                console.log(...args);
            },
            
            // ëª¨ë“œ í† ê¸€
            toggleMode() {
                this.isProductionMode = !this.isProductionMode;
                this.updateUI();
                
                if (this.isProductionMode) {
                    this.system('ğŸ”‡ í”„ë¡œë•ì…˜ ëª¨ë“œ í™œì„±í™” - ë¡œê·¸ ì¶œë ¥ ìµœì†Œí™”');
                } else {
                    this.system('ğŸ”§ ê°œë°œ ëª¨ë“œ í™œì„±í™” - ìƒì„¸ ë¡œê·¸ ì¶œë ¥');
                }
                
                // ì„¤ì • ì €ì¥
                localStorage.setItem('adminLogMode', this.isProductionMode ? 'production' : 'development');
            },
            
            // UI ì—…ë°ì´íŠ¸
            updateUI() {
                const badge = document.getElementById('logModeBadge');
                const toggleText = document.getElementById('logToggleText');
                
                if (badge && toggleText) {
                    if (this.isProductionMode) {
                        badge.textContent = 'í”„ë¡œë•ì…˜ (ìµœì†Œ)';
                        badge.className = 'log-mode-badge production';
                        toggleText.textContent = 'ê°œë°œ ëª¨ë“œ í™œì„±í™”';
                    } else {
                        badge.textContent = 'ê°œë°œ (ìƒì„¸)';
                        badge.className = 'log-mode-badge development';
                        toggleText.textContent = 'í”„ë¡œë•ì…˜ ëª¨ë“œ í™œì„±í™”';
                    }
                }
            },
            
            // ì´ˆê¸°í™”
            init() {
                // ì €ì¥ëœ ì„¤ì • ë¡œë“œ
                const savedMode = localStorage.getItem('adminLogMode');
                if (savedMode) {
                    this.isProductionMode = savedMode === 'production';
                }
                
                this.updateUI();
                this.system('ğŸ”‡ ë¡œê·¸ ì œì–´ ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì™„ë£Œ -', this.isProductionMode ? 'í”„ë¡œë•ì…˜ ëª¨ë“œ' : 'ê°œë°œ ëª¨ë“œ');
            }
        };

        // ì „ì—­ìœ¼ë¡œ LogController ë…¸ì¶œ
        window.LogController = LogController;

        // ğŸ”§ ëª¨ë“ˆ ìƒíƒœ ì¶”ì  ê°ì²´ (ê´€ë¦¬ììš©) - ë¡œê·¸ ì œì–´ ì ìš©
        const AdminModuleStatusTracker = {
            modules: {
                core: { name: 'SupabaseCore', loaded: false, size: '5.6KB' },
                student: { name: 'SupabaseStudent', loaded: false, size: '32.9KB' },
                admin: { name: 'SupabaseAdmin', loaded: false, size: '41.5KB' },
                unified: { name: 'í†µí•© ë§¤ë‹ˆì €', loaded: false, size: '19.2KB' },
                adminSystem: { name: 'ê´€ë¦¬ì ì‹œìŠ¤í…œ', loaded: false, size: 'modular' }
            },

            // ìƒíƒœ ì—…ë°ì´íŠ¸
            updateStatus(moduleKey, isLoaded) {
                const module = this.modules[moduleKey];
                if (module) {
                    module.loaded = isLoaded;
                    const statusElement = document.getElementById(`status-${moduleKey.replace(/([A-Z])/g, '-$1').toLowerCase()}`);
                    if (statusElement) {
                        statusElement.textContent = isLoaded ? 'âœ…' : 'âŒ';
                        statusElement.className = `status-icon ${isLoaded ? 'status-success' : 'status-error'}`;
                    }
                }
                this.checkAllModules();
            },

            // ì „ì²´ ëª¨ë“ˆ ìƒíƒœ í™•ì¸
            checkAllModules() {
                const allLoaded = Object.values(this.modules).every(module => module.loaded);
                
                if (allLoaded) {
                    this.showSystemReport();
                }
            },

            // ì‹œìŠ¤í…œ ë¦¬í¬íŠ¸ í‘œì‹œ
            showSystemReport() {
                const systemStatus = document.getElementById('systemStatus');
                if (systemStatus) {
                    systemStatus.innerHTML = `
                        <div class="alert alert-success">
                            <strong>ğŸ” ê´€ë¦¬ì ì‹œìŠ¤í…œ v5.2.1 ì´ˆê¸°í™” ì™„ë£Œ!</strong><br>
                            â€¢ ğŸ†• ìˆ˜ë£Œí‰ê°€ ê´€ë¦¬ ì‹œìŠ¤í…œ ì¶”ê°€<br>
                            â€¢ í†µí•© ê´€ë¦¬: Core + Student + Admin ëª¨ë“ˆ ì™„ì „ ë¡œë“œ<br>
                            â€¢ ê´€ë¦¬ì ê¶Œí•œ: ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼ ê°€ëŠ¥<br>
                            â€¢ ğŸ”‡ ë¡œê·¸ ì œì–´: í”„ë¡œë•ì…˜/ê°œë°œ ëª¨ë“œ ì§€ì›<br>
                            â€¢ âœ… AdminFeatureSettings ëª¨ë“ˆ ì—°ë™ ì™„ë£Œ<br>
                            â€¢ í˜¸í™˜ì„±: ê¸°ì¡´ ê´€ë¦¬ì ì½”ë“œ 100% í˜¸í™˜ ë³´ì¥
                        </div>
                    `;
                }
            }
        };

        // ğŸ”§ ëª¨ë“ˆ ë¡œë”© ê°ì§€ í•¨ìˆ˜ (ê´€ë¦¬ììš©) - ë¡œê·¸ ì œì–´ ì ìš©
        function checkAdminModuleLoading() {
            // SupabaseCore í™•ì¸
            if (window.SupabaseCore) {
                AdminModuleStatusTracker.updateStatus('core', true);
                LogController.log('âœ… SupabaseCore ëª¨ë“ˆ ë¡œë“œ ì™„ë£Œ');
            }

            // SupabaseStudent í™•ì¸
            if (window.SupabaseStudent) {
                AdminModuleStatusTracker.updateStatus('student', true);
                LogController.log('âœ… SupabaseStudent ëª¨ë“ˆ ë¡œë“œ ì™„ë£Œ');
            }

            // SupabaseAdmin í™•ì¸
            if (window.SupabaseAdmin) {
                AdminModuleStatusTracker.updateStatus('admin', true);
                LogController.log('âœ… SupabaseAdmin ëª¨ë“ˆ ë¡œë“œ ì™„ë£Œ');
            }

            // í†µí•© ë§¤ë‹ˆì € í™•ì¸
            if (window.SupabaseAPI && window.SupabaseAPI.getHealthReport) {
                AdminModuleStatusTracker.updateStatus('unified', true);
                
                // í†µí•© ë§¤ë‹ˆì € ìƒíƒœ ë¦¬í¬íŠ¸ ë¡œê·¸ (í”„ë¡œë•ì…˜ ëª¨ë“œì—ì„œëŠ” ìˆ¨ê¹€)
                const healthReport = window.SupabaseAPI.getHealthReport();
                LogController.log('ğŸ“Š í†µí•© ë§¤ë‹ˆì € ìƒíƒœ ë¦¬í¬íŠ¸ (ê´€ë¦¬ì v5.2.1):', healthReport);
            }

            // ê´€ë¦¬ì ì‹œìŠ¤í…œ í™•ì¸ (AdminFeatureSettings í¬í•¨)
            if (window.AdminManager || window.AdminFeatureSettings) {
                AdminModuleStatusTracker.updateStatus('adminSystem', true);
                LogController.log('âœ… AdminManager ì‹œìŠ¤í…œ ë¡œë“œ ì™„ë£Œ');
            }
        }

        // ì „ì—­ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ë¡œ ì¶©ëŒ ë°©ì§€
        window.AdminPageController = (function() {
            'use strict';
            
            // ì´ˆê¸°í™” ìƒíƒœ ê´€ë¦¬ (ê³ ìœ  ë³€ìˆ˜ëª… ì‚¬ìš©)
            const adminInitState = {
                configLoaded: false,
                supabaseInitialized: false,
                adminManagerReady: false,
                retryCount: 0,
                maxRetries: 3
            };

            // ì´ˆê¸°í™” ìƒíƒœ í‘œì‹œ ê´€ë¦¬
            const InitManager = {
                status: document.getElementById('initStatus'),
                
                show(message, type = 'info') {
                    if (this.status) {
                        this.status.textContent = message;
                        this.status.className = `init-status ${type}`;
                        this.status.style.display = 'block';
                    }
                    LogController.log(`ğŸ”„ ${message}`);
                },
                
                hide() {
                    if (this.status) {
                        setTimeout(() => {
                            this.status.style.display = 'none';
                        }, 2000);
                    }
                },
                
                success(message) {
                    this.show(message, 'success');
                    this.hide();
                },
                
                error(message) {
                    this.show(message, 'error');
                    setTimeout(() => this.hide(), 5000); // ì—ëŸ¬ëŠ” ë” ì˜¤ë˜ í‘œì‹œ
                },

                warning(message) {
                    this.show(message, 'warning');
                    setTimeout(() => this.hide(), 3000);
                }
            };

            // ì•ˆì „í•œ ì´ˆê¸°í™” í•¨ìˆ˜ (v5.2.1) - ë¡œê·¸ ì œì–´ ì ìš©
            async function safeInitialize() {
                try {
                    // ğŸ”‡ ë¡œê·¸ ì œì–´ ì‹œìŠ¤í…œ ë¨¼ì € ì´ˆê¸°í™”
                    LogController.init();
                    
                    InitManager.show('ê´€ë¦¬ì ì‹œìŠ¤í…œ v5.2.1 ì´ˆê¸°í™” ì¤‘...');
                    
                    // 1. í•„ìˆ˜ ê°ì²´ë“¤ì´ ë¡œë“œë  ë•Œê¹Œì§€ ëŒ€ê¸°
                    await waitForEssentials();
                    InitManager.show('í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì™„ë£Œ');
                    
                    // 2. Lucide ì•„ì´ì½˜ ì´ˆê¸°í™”
                    if (typeof lucide !== 'undefined') {
                        lucide.createIcons();
                        InitManager.show('ì•„ì´ì½˜ ì´ˆê¸°í™” ì™„ë£Œ');
                    }
                    
                    // ğŸ†• v5.2.1 ëª¨ë“ˆ ë¡œë”© ê°ì§€ ì‹œì‘
                    checkAdminModuleLoading();

                    // ì£¼ê¸°ì ìœ¼ë¡œ ëª¨ë“ˆ ìƒíƒœ í™•ì¸ (ìµœëŒ€ 15ì´ˆ)
                    let checkCount = 0;
                    const maxChecks = 150; // 15ì´ˆ
                    const checkInterval = setInterval(() => {
                        checkAdminModuleLoading();
                        checkCount++;

                        if (checkCount >= maxChecks) {
                            clearInterval(checkInterval);
                            LogController.warn('âš ï¸ ëª¨ë“ˆ ë¡œë”© íƒ€ì„ì•„ì›ƒ (15ì´ˆ) - ì¼ë¶€ ëª¨ë“ˆì´ ë¡œë“œë˜ì§€ ì•Šì•˜ì„ ìˆ˜ ìˆìŒ');
                        }
                    }, 100);
                    
                    // 3. SupabaseAPI ì´ˆê¸°í™” ëŒ€ê¸° (ì¤‘ìš”!)
                    await waitForSupabaseAPI();
                    InitManager.show('ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì™„ë£Œ');
                    
                    // 4. AdminManager ì´ˆê¸°í™” í™•ì¸
                    await waitForAdminManager();
                    InitManager.show('ê´€ë¦¬ì ì‹œìŠ¤í…œ ì¤€ë¹„ ì™„ë£Œ');
                    
                    // 5. ê´€ë¦¬ì ì•± ì´ˆê¸°í™”
                    await initializeAdminApp();
                    InitManager.success('ê´€ë¦¬ì ì‹œìŠ¤í…œ v5.2.1 ì´ˆê¸°í™” ì™„ë£Œ');
                    
                    // ì´ˆê¸°í™” ìƒíƒœ ì—…ë°ì´íŠ¸
                    adminInitState.supabaseInitialized = true;
                    adminInitState.adminManagerReady = true;
                    
                } catch (error) {
                    LogController.error('âŒ ê´€ë¦¬ì ì‹œìŠ¤í…œ ì´ˆê¸°í™” ì‹¤íŒ¨:', error);
                    
                    // ì¬ì‹œë„ ë¡œì§
                    if (adminInitState.retryCount < adminInitState.maxRetries) {
                        adminInitState.retryCount++;
                        InitManager.warning(`ì´ˆê¸°í™” ì¬ì‹œë„ ì¤‘... (${adminInitState.retryCount}/${adminInitState.maxRetries})`);
                        
                        setTimeout(() => {
                            safeInitialize();
                        }, 2000 * adminInitState.retryCount); // ì ì§„ì  ì§€ì—°
                        return;
                    }
                    
                    InitManager.error(`ì´ˆê¸°í™” ì‹¤íŒ¨: ${error.message}`);
                    
                    // ì‚¬ìš©ìì—ê²Œ ë¬¸ì œ í•´ê²° ë°©ë²• ì œì‹œ
                    setTimeout(() => {
                        if (confirm('ê´€ë¦¬ì ì‹œìŠ¤í…œ ì´ˆê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\\n\\ní˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                            window.location.reload();
                        }
                    }, 1000);
                }
            }

            // í•„ìˆ˜ ê°ì²´ë“¤ì´ ë¡œë“œë  ë•Œê¹Œì§€ ëŒ€ê¸°
            function waitForEssentials() {
                return new Promise((resolve, reject) => {
                    let attempts = 0;
                    const maxAttempts = 50; // 5ì´ˆ
                    
                    const check = () => {
                        attempts++;
                        
                        const hasConfig = window.CONFIG;
                        const hasSupabase = window.supabase && typeof window.supabase.createClient === 'function';
                        
                        if (hasConfig && hasSupabase) {
                            LogController.log('âœ… ê´€ë¦¬ì í•„ìˆ˜ ê°ì²´ ë¡œë“œ ì™„ë£Œ');
                            adminInitState.configLoaded = true;
                            resolve();
                        } else if (attempts >= maxAttempts) {
                            const missing = [];
                            if (!hasConfig) missing.push('CONFIG');
                            if (!hasSupabase) missing.push('Supabase');
                            reject(new Error(`í•„ìˆ˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë“œ ì‹¤íŒ¨: ${missing.join(', ')}`));
                        } else {
                            setTimeout(check, 100);
                        }
                    };
                    
                    check();
                });
            }

            // SupabaseAPI ì´ˆê¸°í™” ëŒ€ê¸°
            function waitForSupabaseAPI() {
                return new Promise((resolve, reject) => {
                    let attempts = 0;
                    const maxAttempts = 30; // 3ì´ˆ
                    
                    const check = async () => {
                        attempts++;
                        
                        if (window.SupabaseAPI && typeof window.SupabaseAPI.init === 'function') {
                            try {
                                LogController.log('ğŸ”— ê´€ë¦¬ì SupabaseAPI ì´ˆê¸°í™” ì¤‘...');
                                const success = await window.SupabaseAPI.init();
                                
                                if (success) {
                                    LogController.log('âœ… ê´€ë¦¬ì SupabaseAPI ì´ˆê¸°í™” ì™„ë£Œ');
                                    resolve();
                                    return;
                                }
                            } catch (error) {
                                LogController.warn(`âš ï¸ ê´€ë¦¬ì SupabaseAPI ì´ˆê¸°í™” ì‹œë„ ${attempts}/${maxAttempts} ì‹¤íŒ¨:`, error.message);
                            }
                        }
                        
                        if (attempts >= maxAttempts) {
                            reject(new Error('SupabaseAPI ì´ˆê¸°í™”ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.'));
                        } else {
                            setTimeout(check, 100);
                        }
                    };
                    
                    check();
                });
            }

            // AdminManager ì´ˆê¸°í™” ëŒ€ê¸°
            function waitForAdminManager() {
                return new Promise((resolve, reject) => {
                    let attempts = 0;
                    const maxAttempts = 30; // 3ì´ˆ
                    
                    const check = () => {
                        attempts++;
                        
                        if (window.AdminManager || window.AdminFeatureSettings) {
                            LogController.log('âœ… AdminManager/AdminFeatureSettings ì¤€ë¹„ ì™„ë£Œ');
                            resolve();
                        } else if (attempts >= maxAttempts) {
                            LogController.warn('âš ï¸ AdminManagerë¥¼ ì°¾ì„ ìˆ˜ ì—†ì§€ë§Œ ê³„ì† ì§„í–‰í•©ë‹ˆë‹¤.');
                            resolve(); // AdminManagerê°€ ì—†ì–´ë„ ê¸°ë³¸ ê¸°ëŠ¥ì€ ë™ì‘í•˜ë„ë¡
                        } else {
                            setTimeout(check, 100);
                        }
                    };
                    
                    check();
                });
            }

            // ê´€ë¦¬ì ì•± ì´ˆê¸°í™”
            async function initializeAdminApp() {
                LogController.log('ğŸ” ê´€ë¦¬ì ì•± ì´ˆê¸°í™” ì‹œì‘ (v5.2.1)');
                
                const adminSession = localStorage.getItem('adminSession');
                if (adminSession) {
                    LogController.log('ğŸ“‹ ê¸°ì¡´ ê´€ë¦¬ì ì„¸ì…˜ ë°œê²¬');
                    await showAdminDashboard();
                } else {
                    LogController.log('ğŸ” ê´€ë¦¬ì ì„¸ì…˜ ì—†ìŒ, ë¡œê·¸ì¸ í˜ì´ì§€ í‘œì‹œ');
                }

                setupAdminLoginEvents();
                LogController.log('âœ… ê´€ë¦¬ì ì•± ì´ˆê¸°í™” ì™„ë£Œ (v5.2.1)');
            }

            // ê´€ë¦¬ì ë¡œê·¸ì¸ ì´ë²¤íŠ¸ ì„¤ì •
            function setupAdminLoginEvents() {
                const adminLoginBtn = document.getElementById('adminLoginBtn');
                const adminCodeInput = document.getElementById('adminCode');

                if (adminLoginBtn) {
                    adminLoginBtn.addEventListener('click', handleAdminLogin);
                }

                if (adminCodeInput) {
                    adminCodeInput.addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') {
                            handleAdminLogin();
                        }
                    });
                }
            }

            // ê´€ë¦¬ì ë¡œê·¸ì¸ ì²˜ë¦¬ (v5.2.1) - ë¡œê·¸ ì œì–´ ì ìš©
            async function handleAdminLogin() {
                const code = document.getElementById('adminCode').value.trim();
                
                if (!code) {
                    alert('ê´€ë¦¬ì ì½”ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                    return;
                }

                try {
                    // ë¡œë”© ìƒíƒœ í‘œì‹œ
                    const loginBtn = document.getElementById('adminLoginBtn');
                    const originalText = loginBtn.innerHTML;
                    loginBtn.innerHTML = '<i data-lucide="loader-2"></i> ë¡œê·¸ì¸ ì¤‘...';
                    loginBtn.disabled = true;

                    // ğŸš€ v5.2.1 ê´€ë¦¬ì ì¸ì¦ ì‹œë„
                    const result = await SupabaseAPI.authenticateAdmin(code);
                    
                    if (result && result.success) {
                        // ì„¸ì…˜ ì €ì¥
                        localStorage.setItem('adminSession', 'true');
                        localStorage.setItem('adminInfo', JSON.stringify(result.data));
                        
                        // ëŒ€ì‹œë³´ë“œë¡œ ì „í™˜
                        await showAdminDashboard();
                        
                        LogController.system('âœ… ê´€ë¦¬ì ë¡œê·¸ì¸ ì„±ê³µ (v5.2.1):', result.data.name || 'ê´€ë¦¬ì');
                    } else {
                        alert(result?.message || 'ê´€ë¦¬ì ì¸ì¦ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                    }
                    
                } catch (error) {
                    LogController.error('âŒ ê´€ë¦¬ì ë¡œê·¸ì¸ ì˜¤ë¥˜ (v5.2.1):', error);
                    alert('ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                } finally {
                    // ë²„íŠ¼ ìƒíƒœ ë³µêµ¬
                    const loginBtn = document.getElementById('adminLoginBtn');
                    loginBtn.innerHTML = '<i data-lucide="log-in"></i> ê´€ë¦¬ì ë¡œê·¸ì¸';
                    loginBtn.disabled = false;
                    
                    if (typeof lucide !== 'undefined') {
                        lucide.createIcons();
                    }
                }
            }

            // ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í‘œì‹œ
            async function showAdminDashboard() {
                const loginPage = document.getElementById('loginPage');
                const adminPage = document.getElementById('adminPage');
                
                if (loginPage) loginPage.classList.remove('active');
                if (adminPage) adminPage.classList.add('active');
                
                // ğŸ†• AdminFeatureSettings ëª¨ë“ˆì´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë¨
                // (ë³„ë„ í˜¸ì¶œ ë¶ˆí•„ìš”)
                
                // ì•„ì´ì½˜ ì¬ì´ˆê¸°í™”
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }

                LogController.log('âœ… ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ í‘œì‹œ ì™„ë£Œ (v5.2.1) - AdminFeatureSettings ìë™ ì—°ë™');
            }

            // ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬ (v5.2.1)
            function handleLogout() {
                if (confirm('ë¡œê·¸ì•„ì›ƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                    localStorage.removeItem('adminSession');
                    localStorage.removeItem('adminInfo');
                    
                    if (window.SupabaseAPI && typeof window.SupabaseAPI.logout === 'function') {
                        window.SupabaseAPI.logout();
                    }
                    
                    LogController.system('âœ… ê´€ë¦¬ì ë¡œê·¸ì•„ì›ƒ ì™„ë£Œ (v5.2.1)');
                    window.location.reload();
                }
            }

            // ğŸ†• v5.2.1 ë„¤ë¹„ê²Œì´ì…˜ í•¨ìˆ˜ë“¤ (íŠ¹ë³„ ì˜ˆì‚° ê´€ë¦¬ ì¶”ê°€)
            function navigateToInstituteManagement() {
                window.location.href = 'admin/institute-management.html';
            }

            function navigateToFlightManagement() {
                window.location.href = 'admin/flight-management.html';
            }

            function navigateToEquipmentManagement() {
                window.location.href = 'admin/equipment-management.html';
            }

            function navigateToBudgetManagement() {
                window.location.href = 'admin/budget-management.html';
            }

            function navigateToExamManagement() {
                window.location.href = 'admin/exam-management.html';
            }

            function navigateToCountrySafetyManagement() {
                window.location.href = 'admin/country-safety-management.html';
            }
            
            function navigateToVisaManagement() {
                window.location.href = 'admin/visa-management.html';
            }
            
            function navigateToReimbursementManagement() {
                window.location.href = 'admin/reimbursement-management.html';
            }

            
            // ì „ì—­ í•¨ìˆ˜ë¡œ ë…¸ì¶œ
            window.handleAdminLogin = handleAdminLogin;
            window.handleLogout = handleLogout;
            window.navigateToInstituteManagement = navigateToInstituteManagement;
            window.navigateToFlightManagement = navigateToFlightManagement;
            window.navigateToEquipmentManagement = navigateToEquipmentManagement;
            window.navigateToBudgetManagement = navigateToBudgetManagement;
            window.navigateToExamManagement = navigateToExamManagement;
            window.navigateToCountrySafetyManagement = navigateToCountrySafetyManagement;
            window.navigateToVisaManagement = navigateToVisaManagement;
            window.navigateToReimbursementManagement = navigateToReimbursementManagement;

            
            // DOMContentLoaded ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            document.addEventListener('DOMContentLoaded', safeInitialize);

            return {
                initialize: safeInitialize,
                handleAdminLogin,
                handleLogout,
                navigateToInstituteManagement,
                navigateToFlightManagement,
                navigateToEquipmentManagement,
                navigateToBudgetManagement,
                navigateToExamManagement,
                navigateToCountrySafetyManagement,
                navigateToVisaManagement,
                navigateToReimbursementManagement
            };
        })();

        LogController.system('ğŸ” ê´€ë¦¬ì v5.2.1 ì‹œìŠ¤í…œ ìŠ¤í¬ë¦½íŠ¸ ë¡œë“œ ì™„ë£Œ');
        LogController.system('ğŸ“¦ ì•„í‚¤í…ì²˜: Core + Student + Admin + í†µí•©ë§¤ë‹ˆì € + AdminFeatureSettings');
        LogController.system('ğŸ†• v5.2.1: ìˆ˜ë£Œí‰ê°€ ê´€ë¦¬ ì‹œìŠ¤í…œ ì¶”ê°€');
        LogController.system('ğŸ”‡ ë¡œê·¸ ì œì–´: í”„ë¡œë•ì…˜/ê°œë°œ ëª¨ë“œ ì§€ì› ì¶”ê°€');
        LogController.system('âœ… ëª¨ë“ˆí™” êµ¬ì¡°: admin-features.js ëª¨ë“ˆ ìë™ ì—°ë™ ì™„ë£Œ');
        LogController.system('ğŸ”§ ê¸°ì¡´ ê´€ë¦¬ì ì½”ë“œ 100% í˜¸í™˜ì„± ë³´ì¥ + ì„±ëŠ¥ ìµœì í™”');
    </script>
</body>
</html>
