# 세종학당 문화교구 신청 플랫폼

세종학당 문화인턴을 위한 교구 신청 및 수업계획 관리 시스템입니다.

## 🌐 접속 방법
- **배포 사이트**: https://culturing.org/request
- **GitHub Pages**: https://faye8796.github.io/request

## 🔑 테스트 계정
- **학생**: 김민수 (1998-03-15)
- **관리자**: admin123

## ✨ 주요 기능

### 📚 수업계획 관리
- **학생 기능**:
  - 파견 기간 및 총 수업 횟수 설정
  - 수업별 주제와 내용 작성
  - 자동 수업 일정 생성 (주 3회 기준)
  - 임시저장 및 완료 제출
  - 관리자 설정 마감일까지 수정 가능
  
- **관리자 기능**:
  - 수업계획 수정 마감일 설정
  - **테스트 모드**: 기능 테스트를 위한 항상 편집 허용 ⭐
  - **마감일 무시 모드**: 운영 중 긴급 수정을 위한 모드
  - 학생별 수업계획 완료 현황 모니터링
  - 수업계획 상태 확인 (완료/임시저장/미작성)

### 🛒 교구 신청 시스템 (업데이트!)
- **온라인 구매**: 관리자가 대신 구매하여 배송
- **🆕 오프라인 구매**: 학생이 직접 구매 후 영수증 제출로 비용 정산
  - 승인 후 영수증 등록 버튼 활성화
  - 이미지 업로드 (드래그 앤 드롭 지원)
  - 구매일시, 구매처, 비고 정보 입력
  - 영수증 제출 시 자동 구매완료 처리
  - 관리자 영수증 확인 및 다운로드 기능

### 👨‍🎓 학생 기능
- 개인별 예산 한도 확인
- **구매 방식 선택**: 온라인/오프라인 구매 선택 가능 🆕
- 교구 신청 (이름, 목적, 가격, 구매링크)
- 묶음 교구 신청 (온라인 쇼핑몰 계정 정보 포함)
- **영수증 등록**: 오프라인 구매 승인 시 영수증 제출 🆕
- 실시간 예산 사용 현황 모니터링
- 신청 상태 추적 (검토중/승인/반려/구매완료)
- 배송지 정보 관리
- 수업계획 작성 및 관리

### 👩‍💼 관리자 기능  
- 모든 학생 신청 내역 조회
- 학생별 예산 사용률 모니터링
- 승인/반려/구매완료 처리
- **영수증 관리**: 오프라인 구매 영수증 확인 및 다운로드 🆕
- **구매 방식별 통계**: 온라인/오프라인 구매 현황 추적 🆕
- 반려 사유 입력
- 검색 및 필터링
- Excel 데이터 내보내기 (구매 방식 정보 포함)
- 수업계획 설정 관리

### 📊 예산 관리 시스템
- 학생별 개별 예산 한도 설정
- 실시간 예산 사용률 표시
- 예산 초과 방지 검증
- 시각적 진행률 표시

## 🛍️ 구매 방식 안내 (NEW!)

### 온라인 구매 📦
- **장점**: 배송 편의성, 관리자가 직접 처리
- **절차**: 신청 → 관리자 승인 → 관리자 구매 → 배송
- **적합한 경우**: 일반적인 교구, 온라인에서 구매 가능한 상품

### 오프라인 구매 🏪  
- **장점**: 현지에서만 구할 수 있는 특별한 교구 구매 가능
- **절차**: 신청 → 관리자 승인 → 학생 직접 구매 → 영수증 제출 → 비용 정산
- **적합한 경우**: 
  - 현지 전통 문화 용품
  - 현지에서만 구할 수 있는 재료
  - 신선 식품 등 배송이 어려운 상품
  - 현지 서점의 특별한 도서

### 영수증 제출 과정 📄
1. **관리자 승인** 후 '영수증 등록' 버튼 활성화
2. **영수증 촬영** 또는 이미지 파일 준비
3. **영수증 등록**:
   - 이미지 업로드 (드래그 앤 드롭 지원)
   - 구매일시 입력
   - 구매처 정보 입력
   - 추가 설명 (선택사항)
4. **제출 완료** 시 자동으로 구매완료 처리
5. **관리자 확인** 및 비용 정산 진행

## 🏫 지원 학당 및 분야

### 아시아 지역
- 하노이 세종학당 - 한국어교육
- 방콕 세종학당 - 전통문화예술  
- 자카르타 세종학당 - K-Pop 문화
- 쿠알라룸푸르 세종학당 - 한국어교육
- 마닐라 세종학당 - 한국현대문화

### 유럽/미주 지역
- 뉴욕 세종학당 - 전통음악
- 런던 세종학당 - 한국미술
- 파리 세종학당 - 한국요리문화

## 📁 파일 구조
```
/request/
├── index.html              # 메인 페이지 (영수증 모달 포함)
├── css/                    # 스타일 파일들
│   ├── main.css           # 공통 스타일 (영수증 UI 스타일 포함)
│   ├── login.css          # 로그인 페이지
│   ├── student.css        # 학생 대시보드
│   └── admin.css          # 관리자 대시보드
└── js/                     # JavaScript 파일들
    ├── data.js            # 데이터 관리 (영수증 처리 로직 포함)
    ├── utils.js           # 공통 유틸리티
    ├── auth.js            # 인증 관리
    ├── lesson-plan.js     # 수업계획 관리
    ├── student.js         # 학생 기능 (영수증 등록 기능 포함)
    ├── admin.js           # 관리자 기능 (영수증 관리 기능 포함)
    └── app.js             # 메인 앱 로직
```

## 🛠 기술 스택
- **Frontend**: Vanilla JavaScript, HTML5, CSS3
- **Icons**: Lucide Icons
- **Future**: Supabase 연동 예정

## 📋 개발 상태
- ✅ 기본 UI/UX 완성
- ✅ 로그인 시스템
- ✅ 학생 신청 기능
- ✅ 관리자 관리 기능
- ✅ 예산 관리 시스템
- ✅ 반응형 디자인
- ✅ 키보드 단축키 지원
- ✅ 수업계획 작성 시스템
- ✅ 수업계획 관리자 설정
- ✅ 학생 로그인 시 수업계획 체크
- ✅ 테스트 모드 및 개발자 도구
- ✅ **오프라인 구매 시스템 (NEW!)**
- ✅ **영수증 등록 및 관리 (NEW!)**
- 🔄 Supabase 연동 예정
- 🔄 이메일 알림 시스템 예정

## ⌨️ 키보드 단축키
- `Alt + 1`: 로그인 페이지
- `Alt + 2`: 수업계획 페이지 (학생)
- `Alt + 3`: 학생 대시보드 (학생)
- `Alt + 4`: 관리자 대시보드 (관리자)
- `Ctrl/Cmd + N`: 새 교구 신청 (학생)
- `Ctrl/Cmd + F`: 검색 (관리자)
- `Ctrl/Cmd + E`: Excel 내보내기 (관리자)
- `Ctrl/Cmd + T`: 테스트 모드 토글 (관리자)
- `Ctrl/Cmd + Enter`: 폼 제출
- `ESC`: 모달 닫기
- `F5`: 데이터 새로고침

## 📈 예산 시스템
- 개인별 예산 한도: 25만원 ~ 40만원
- 실시간 사용률 모니터링
- 70% 이상 사용 시 경고 표시
- 90% 이상 사용 시 위험 표시
- 예산 초과 신청 방지

## 📝 수업계획 시스템

### 학생 사용법
1. **최초 로그인 시 수업계획 작성 필요**
   - 파견 시작일/종료일 입력
   - 총 수업 횟수 설정 (1~100회)
   - 주당 평균 수업 횟수 자동 계산

2. **수업 계획표 생성**
   - "수업 계획표 생성" 버튼 클릭
   - 자동으로 수업 일정 생성 (월, 수, 금 기준)
   - 각 수업별 주제와 내용 작성

3. **저장 및 제출**
   - 임시저장: 언제든지 저장 가능
   - 완료 제출: 수업계획 작성 완료
   - 관리자 설정 마감일까지 수정 가능

### 관리자 설정 ⚙️
1. **수업계획 설정 버튼** 클릭
2. **편집 모드 선택**:
   - 🧪 **테스트 모드**: 기능 테스트를 위해 항상 편집 허용
   - 🔓 **마감일 무시 모드**: 운영 중 긴급 수정을 위한 모드  
   - 📅 **일반 모드**: 설정된 마감일까지만 편집 허용
3. **마감일 및 시간** 설정 (일반 모드 시)
4. **학생 안내 메시지** 작성

### 개발자 기능 🛠️
- **빠른 테스트 모드 토글**: 관리자 페이지에서 `Ctrl + T`
- **실시간 편집 상태 확인**: 수업계획 페이지에서 현재 편집 가능 여부 표시
- **콘솔 로그**: 테스트 모드 변경 시 브라우저 콘솔에 상태 출력

### 수업계획 특징
- **자동 일정 생성**: 시작일부터 주 3회 기준으로 자동 배치
- **주차 표시**: 선택적으로 주차 정보 표시 가능
- **일괄 적용**: 동일한 주제를 여러 수업에 일괄 적용
- **완성도 체크**: 최소 50% 이상 작성 시 제출 가능
- **실시간 저장**: 브라우저 새로고침 시에도 작성 내용 유지

## 🧪 테스트 가이드

### 기능 테스트 방법
1. **관리자로 로그인** (admin123)
2. **테스트 모드 활성화**:
   - 방법 1: `Ctrl + T` 단축키 사용
   - 방법 2: "수업계획 설정" → "테스트 모드" 체크
3. **학생으로 로그인** (김민수, 1998-03-15)
4. **수업계획 작성 및 수정 테스트**
5. **오프라인 구매 기능 테스트**:
   - 교구 신청 시 "오프라인 구매" 선택
   - 관리자에서 승인 처리
   - 학생에서 영수증 등록 테스트
   - 관리자에서 영수증 확인
6. **필요 시 관리자에서 다시 테스트 모드 해제**

### 운영 환경 설정
- **테스트 완료 후**: 테스트 모드 비활성화
- **긴급 수정 필요 시**: 마감일 무시 모드 활성화
- **정상 운영 시**: 일반 모드로 마감일 설정

## 🔄 업데이트 내역

### v1.2.0 (2025-06-12) - 오프라인 구매 시스템 추가
- ✅ **오프라인 구매 방식 추가**: 학생 직접 구매 후 영수증 제출
- ✅ **구매 방식 선택**: 신청 시 온라인/오프라인 구매 방식 선택
- ✅ **영수증 등록 시스템**: 이미지 업로드, 구매 정보 입력, 드래그 앤 드롭 지원
- ✅ **관리자 영수증 관리**: 영수증 확인, 다운로드, 구매완료 자동 처리
- ✅ **구매 방식별 통계**: 온라인/오프라인 구매 현황 모니터링
- ✅ **Excel 내보내기 개선**: 구매 방식, 영수증 정보 포함
- ✅ **UI/UX 개선**: 영수증 관련 상태 표시, 반응형 지원

### v1.1.1 (2025-06-12) - 기능 테스트 지원 업데이트
- ✅ 테스트 모드 추가: 기능 테스트를 위한 항상 편집 허용 모드
- ✅ 마감일 무시 모드 추가: 운영 중 긴급 수정을 위한 모드
- ✅ 관리자 빠른 토글: `Ctrl + T` 단축키로 테스트 모드 토글
- ✅ 편집 상태 알림 개선: 현재 편집 모드 시각적 표시
- ✅ 개발자 도구 강화: 콘솔 로그 및 디버깅 지원

### v1.1.0 (2025-06-12)
- ✅ 수업계획 작성 시스템 추가
- ✅ 관리자 수업계획 설정 기능 추가
- ✅ 학생 로그인 시 수업계획 체크 로직 추가
- ✅ 수업계획 관련 UI/UX 개선
- ✅ 반응형 수업계획 테이블 구현
- ✅ 수업계획 유효성 검증 강화

### v1.0.0 (2024-06-10)
- ✅ 기본 교구 신청 시스템 구현
- ✅ 관리자 대시보드 구현
- ✅ 예산 관리 시스템 구현

## 💡 사용 시나리오 예시

### 온라인 구매 시나리오
> **상황**: 한국 전통 차 세트를 구매하고 싶은 경우
> 1. 교구 신청 시 "온라인 구매" 선택
> 2. 쿠팡 등 온라인 쇼핑몰 링크 첨부
> 3. 관리자 승인 후 관리자가 직접 구매하여 파견지로 배송

### 오프라인 구매 시나리오
> **상황**: 베트남 현지 전통 의상(아오자이)을 구매하고 싶은 경우
> 1. 교구 신청 시 "오프라인 구매" 선택
> 2. 참고용 링크나 구매 예정 장소 정보 입력
> 3. 관리자 승인 후 현지에서 직접 구매
> 4. 영수증 촬영하여 시스템에 등록
> 5. 관리자 확인 후 계좌로 비용 정산

## 📞 문의
프로젝트 관련 문의사항이 있으시면 GitHub Issues를 통해 연락주세요.

## 🎯 향후 개발 계획
1. **Supabase 연동**: 실시간 데이터베이스 연동
2. **이메일 알림**: 신청 상태 변경 시 자동 알림
3. **모바일 앱**: React Native 기반 모바일 앱 개발
4. **고급 통계**: 더 상세한 분석 및 리포팅 기능
5. **다국어 지원**: 영어, 현지어 지원 추가
6. **수업계획 템플릿**: 미리 정의된 수업계획 템플릿 제공
7. **영수증 OCR**: 영수증 자동 인식 및 정보 추출
8. **비용 정산 시스템**: 자동화된 비용 정산 프로세스